-- Place this in a LocalScript inside StarterPlayerScripts or StarterGui

local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Create GUI
local GUI = Instance.new("ScreenGui")
GUI.Parent = player:WaitForChild("PlayerGui")
GUI.ResetOnSpawn = false

-- Main frame
local Frame = Instance.new("Frame")
Frame.Parent = GUI
Frame.Position = UDim2.new(0.3, 0, 0.3, 0)
Frame.Size = UDim2.new(0.4, 0, 0.4, 0)
Frame.Visible = true
Frame.Active = true
Frame.Draggable = true
Frame.BorderSizePixel = 3
Frame.ClipsDescendants = true

-- Styling
local Edge = Instance.new("UICorner", Frame)
local EdgeStroke = Instance.new("UIStroke", Frame)
EdgeStroke.Thickness = 3

-- Title
local Title = Instance.new("TextLabel")
Title.Parent = Frame
Title.Position = UDim2.new(0, 0, 0, 0)
Title.Size = UDim2.new(1, 0, 0.2, 0)
Title.BackgroundTransparency = 0
Title.BackgroundColor3 = Color3.new(0.498, 0.498, 0.498)
Title.BorderSizePixel = 3
Title.Text = "UnderMade Menu"
Title.TextScaled = true
Title.TextColor3 = BrickColor.new("Ghost grey").Color

local SubEdge = Instance.new("UICorner", Title)
local SubEdgeStroke = Instance.new("UIStroke", Title)
SubEdgeStroke.Thickness = 3
SubEdgeStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

-- Button 1 - Walkspeed
local Button = Instance.new("TextButton")
Button.Parent = Frame
Button.Position = UDim2.new(0.05, 0, 0.25, 0)
Button.Size = UDim2.new(0.4, 0, 0.2, 0)
Button.BackgroundColor3 = BrickColor.new("Black").Color
Button.TextColor3 = BrickColor.new("White").Color
Button.Text = "Walkspeed = 100"
Button.TextScaled = true
local Corner = Instance.new("UICorner", Button)
local Stroke = Instance.new("UIStroke", Button)
Stroke.Thickness = 3
Stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

Button.MouseButton1Click:Connect(function()
	local character = player.Character or player.CharacterAdded:Wait()
	local humanoid = character:FindFirstChild("Humanoid")
	if humanoid then
		humanoid.WalkSpeed = 100
	end
end)

-- Button 2 - Jump Power
local Button2 = Instance.new("TextButton")
Button2.Parent = Frame
Button2.Position = UDim2.new(0.55, 0, 0.25, 0)
Button2.Size = UDim2.new(0.4, 0, 0.2, 0)
Button2.BackgroundColor3 = BrickColor.new("Black").Color
Button2.Text = "Super Jump"
Button2.TextColor3 = BrickColor.new("Ghost grey").Color
Button2.TextScaled = true
local Corner2 = Instance.new("UICorner", Button2)
local Stroke2 = Instance.new("UIStroke", Button2)
Stroke2.Thickness = 3
Stroke2.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

Button2.MouseButton1Click:Connect(function()
	local character = player.Character or player.CharacterAdded:Wait()
	local humanoid = character:FindFirstChild("Humanoid")
	if humanoid then
		humanoid.JumpHeight = 40
	end
end)

-- Button 3 - GodMode
local Button3 = Instance.new("TextButton")
Button3.Parent = Frame
Button3.Position = UDim2.new(0.05, 0, 0.55, 0)
Button3.Size = UDim2.new(0.4, 0, 0.2, 0)
Button3.BackgroundColor3 = BrickColor.new("Black").Color
Button3.Text = "GodMode"
Button3.TextScaled = true
Button3.TextColor3 = BrickColor.new("Ghost grey").Color
local Corner3 = Instance.new("UICorner", Button3)
local Stroke3 = Instance.new("UIStroke", Button3)
Stroke3.Thickness = 3
Stroke3.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

Button3.MouseButton1Click:Connect(function()
	local character = player.Character or player.CharacterAdded:Wait()
	local humanoid = character:FindFirstChild("Humanoid")
	if humanoid then
		humanoid.MaxHealth = math.huge
		humanoid.Health = math.huge
	end
end)

-- Button 4 - Noclip (except floor)
local Button4 = Instance.new("TextButton")
Button4.Parent = Frame
Button4.Position = UDim2.new(0.55, 0, 0.55, 0)
Button4.Size = UDim2.new(0.4, 0, 0.2, 0)
Button4.BackgroundColor3 = BrickColor.new("Black").Color
Button4.Text = "Noclip"
Button4.TextScaled = true
Button4.TextColor3 = BrickColor.new("Ghost grey").Color
local Corner4 = Instance.new("UICorner", Button4)
local Stroke4 = Instance.new("UIStroke", Button4)
Stroke4.Thickness = 3
Stroke4.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

Button4.MouseButton1Click:Connect(function()
	local RunService = game:GetService("RunService")
	local character = player.Character or player.CharacterAdded:Wait()
	local hrp = character:WaitForChild("HumanoidRootPart")
	local modifiedParts = {}

	RunService.RenderStepped:Connect(function()
		if not character or not hrp then return end

		local rayResult = workspace:Raycast(hrp.Position, Vector3.new(0, -5, 0), RaycastParams.new())
		local floorPart = rayResult and rayResult.Instance or nil

		for part, original in pairs(modifiedParts) do
			if part and part:IsA("BasePart") then
				part.CanCollide = original
			end
		end
		modifiedParts = {}

		for _, part in pairs(workspace:GetPartBoundsInBox(hrp.CFrame, hrp.Size + Vector3.new(2,2,2))) do
			if part:IsA("BasePart") and part.CanCollide and not part:IsDescendantOf(character) and part ~= floorPart then
				modifiedParts[part] = part.CanCollide
				part.CanCollide = false
			end
		end
	end)
end)
